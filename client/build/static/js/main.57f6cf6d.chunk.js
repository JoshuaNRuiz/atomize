(this["webpackJsonpspotify-project"]=this["webpackJsonpspotify-project"]||[]).push([[0],[,,,,function(e,t,a){e.exports=a(14)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(3),i=a.n(c),o=a(1),l=(a(9),function(e){return r.a.createElement("div",{className:"controls"},r.a.createElement("label",{htmlFor:"time-range-input"},"Time Range"),r.a.createElement("select",{id:"time-range-input",className:"time-range-input",name:"range",onChange:e.handleTimeRangeChange},r.a.createElement("option",{value:"long_term"},"All time"),r.a.createElement("option",{value:"medium_term"},"6 Months"),r.a.createElement("option",{value:"short_term"},"4 Weeks")),r.a.createElement("label",{htmlFor:"limit-input"},"#"),r.a.createElement("input",{type:"number",id:"limit-input",className:"limit-input",min:e.min,max:e.max,value:e.limit,onClick:e.refresh,onChange:e.handleLimitChange}),r.a.createElement("button",{className:"refresh-button",onClick:e.handleRefresh},"Refresh"))}),m=(a(10),function(e){var t=e.title,a=e.artists,n=e.album.name,c=e.album.images[0].url,i=e.rank;return r.a.createElement("div",{className:"track"},r.a.createElement("img",{className:"album-image",src:c,alt:"icon"}),r.a.createElement("div",{className:"track-details"},r.a.createElement("p",{className:"title"},t),r.a.createElement("p",{className:"artist-album"},a," \u2014 ","".concat(n)," ")),r.a.createElement("p",{className:"rank"},i))}),s=(a(11),function(e){var t=e.items.map((function(e,t){var a=e.name,n=e.artists[0].name,c=e.album,i=t+1,o=a+n;return r.a.createElement(m,{key:o,title:a,artists:n,album:c,rank:i})}));return r.a.createElement("div",{className:"tracklist"},t)}),u=(a(12),function(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),c=a[0],i=a[1],m=Object(n.useState)(10),u=Object(o.a)(m,2),p=u[0],f=u[1],h=Object(n.useState)("long_term"),d=Object(o.a)(h,2),E=d[0],g=d[1],v=Object(n.useState)([]),b=Object(o.a)(v,2),k=b[0],j=b[1],y=c?r.a.createElement(s,{items:k}):null;return r.a.createElement("div",{className:"tracker"},r.a.createElement(l,{min:1,max:50,limit:p,handleTimeRangeChange:function(e){g(e.target.value)},handleLimitChange:function(e){e.target.value>50?e.target.value=50:e.target.value<0&&(e.target.value=0),f(e.target.value)},handleRefresh:function(){var t="https://api.spotify.com/v1/me/top/tracks?time_range=".concat(E,"&limit=").concat(p,"&offset=0");fetch(t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+e.accessToken}}).then((function(e){if(!e.ok)throw alert("Your authentication has expired."),new Error("Did not get a response from the server.");return e.json()})).then((function(e){i(!0),j(e.items)})).catch((function(e){console.log(e)}))}}),y)}),p=function(){return r.a.createElement("div",null,r.a.createElement("p",null,"To view your information, you must temporarily authorize this application to access your Spotify information."),r.a.createElement("button",{onClick:function(){var e="https://accounts.spotify.com/authorize";e+="?response_type=token",e+="&client_id="+encodeURIComponent("8e6f4d6f92d645d1b22ca1f6a8e8f371"),e+="&scope="+encodeURIComponent("user-top-read"),e+="&redirect_uri="+encodeURIComponent("localhost:3000"),window.open(e,"_blank")}},"Login"))};a(13);var f=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(null),l=Object(o.a)(i,2),m=l[0],s=l[1];Object(n.useEffect)((function(){var e=window.location.hash.substring(1),t=new URLSearchParams(e).get("access_token");t?(s(t),c(!0)):(s(null),c(!1))}),[a,m]);var f=a?r.a.createElement(u,{accessToken:m}):r.a.createElement(p,null);return r.a.createElement("div",{className:"App"},f)};i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(f,null)),document.getElementById("root"))}],[[4,1,2]]]);
//# sourceMappingURL=main.57f6cf6d.chunk.js.map